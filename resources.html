<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resources - Student Wellness Planner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent-color-light: #6C63FF;
            --accent-color-translucent-light: rgba(108, 99, 255, 0.15);
            --bg-image-light: linear-gradient(120deg, #eacdd7 0%, #cdd6e8 100%);
            --widget-bg-light: rgba(255, 255, 255, 0.45);
            --widget-border-light: rgba(255, 255, 255, 0.7);
            --header-bg-light: rgba(255, 255, 255, 0.35);
            --text-color-light: #2c3e50;
            --text-light-light: #576574;
            --shadow-light: 0 8px 32px 0 rgba(108, 99, 255, 0.1);
            --header-shadow-light: 0 3px 25px -5px rgba(108, 99, 255, 0.15);
            --danger-color-light: #e74c3c;
            --warning-color-light: #f1c40f;
            --input-bg-light: rgba(255, 255, 255, 0.2);
            --button-bg-light: rgba(255, 255, 255, 0.3);
            --button-text-light: var(--text-color-light);

            --bg-image: var(--bg-image-light);
            --widget-bg: var(--widget-bg-light);
            --widget-border-color: var(--widget-border-light);
            --header-bg: var(--header-bg-light);
            --text-color: var(--text-color-light);
            --text-light: var(--text-light-light);
            --accent-color: var(--accent-color-light);
            --nav-link-color: var(--text-color-light);
            --nav-link-hover-bg: rgba(255, 255, 255, 0.2);
            --box-shadow: var(--shadow-light);
            --header-shadow: var(--header-shadow-light);
            --input-bg: var(--input-bg-light);
            --danger-color: var(--danger-color-light);
            --danger-color-hover: #c0392b;
            --warning-color: var(--warning-color-light);
            --button-bg: var(--button-bg-light);
            --button-text: var(--button-text-light);
        }

        body.dark-mode {
            --accent-color-dark: #8B84FF;
            --bg-image-dark: linear-gradient(120deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
            --widget-bg-dark: rgba(20, 25, 30, 0.45);
            --widget-border-dark: rgba(255, 255, 255, 0.15);
            --header-bg-dark: rgba(20, 25, 30, 0.35);
            --text-color-dark: #ecf0f1;
            --text-light-dark: #bdc3c7;
            --shadow-dark: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            --header-shadow-dark: 0 3px 25px -5px rgba(0, 0, 0, 0.25);
            --danger-color-dark: #e74c3c;
            --warning-color-dark: #f39c12;
            --input-bg-dark: rgba(0, 0, 0, 0.15);
            --button-bg-dark: rgba(0, 0, 0, 0.2);
            --button-text-dark: var(--text-color-dark);

            --bg-image: var(--bg-image-dark);
            --widget-bg: var(--widget-bg-dark);
            --widget-border-color: var(--widget-border-dark);
            --header-bg: var(--header-bg-dark);
            --text-color: var(--text-color-dark);
            --text-light: var(--text-light-dark);
            --accent-color: var(--accent-color-dark);
            --nav-link-color: var(--text-color-dark);
            --nav-link-hover-bg: rgba(0, 0, 0, 0.2);
            --box-shadow: var(--shadow-dark);
            --header-shadow: var(--header-shadow-dark);
            --input-bg: var(--input-bg-dark);
            --danger-color: var(--danger-color-dark);
            --warning-color: var(--warning-color-dark);
            --button-bg: var(--button-bg-dark);
            --button-text: var(--button-text-dark);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', 'Segoe UI', 'Roboto', sans-serif;
            background-image: var(--bg-image);
            color: var(--text-color);
            transition: background-image 0.5s, color 0.5s;
            background-attachment: fixed;
            padding-top: 80px;
            padding-left: 20px;
            padding-right: 20px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .glass {
            background: var(--widget-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--widget-border-color);
            box-shadow: var(--box-shadow);
            border-radius: 16px;
            transition: background 0.3s, border 0.3s, box-shadow 0.3s;
        }
        
        header {
            padding: 0 10px 0 20px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: fixed;
            top: 10px;
            right: 10px;
            left: 10px;
            z-index: 1000;
            background: var(--header-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow: var(--header-shadow);
            border-radius: 16px;
            border: 1px solid var(--widget-border-color);
        }

        .logo {
            width: 45px;
            height: 45px;
            position: relative;
            background-color: white;
            border-radius: 50%;
            border: 2px solid var(--widget-border-color);
            flex-shrink: 0;
        }
        .logo img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
        }

        header nav {
            margin: 0 20px;
            flex-grow: 1;
            display: flex;
            justify-content: center;
        }
        header nav a {
            color: var(--nav-link-color);
            text-decoration: none;
            margin: 0 10px;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 10px;
            font-size: 0.9em;
            transition: background-color 0.3s, color 0.3s;
        }
        header nav a:hover {
            background-color: var(--nav-link-hover-bg);
            color: var(--accent-color);
        }

        .resources-content {
            flex-grow: 1;
            padding: 30px;
            max-width: 900px;
            margin: 20px auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .resources-content h1 {
            grid-column: 1 / -1;
            color: var(--accent-color);
            margin-bottom: 20px;
            text-align: center;
            font-size: 2.5em;
            font-weight: 700;
        }

        .resource-category {
            padding: 20px;
            background: var(--button-bg);
            border-radius: 12px;
            border: 1px solid var(--widget-border-color);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .resource-category:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }

        .resource-category h2 {
            color: var(--text-color);
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 8px;
            margin-bottom: 15px;
            font-size: 1.5em;
            font-weight: 600;
        }

        .resource-link {
            display: block;
            margin-bottom: 8px;
            color: var(--text-light);
            text-decoration: none;
            font-size: 1em;
            padding: 5px 0;
            transition: color 0.2s, transform 0.2s;
        }

        .resource-link:hover {
            color: var(--accent-color);
            transform: translateX(5px);
        }

        .calculator-widget {
            grid-column: 1 / -1;
            max-width: 400px;
            margin: 20px auto;
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            text-align: center;
        }
        .calculator-widget h2 {
            font-size: 1.8em;
            color: var(--accent-color);
            margin-bottom: 10px;
        }
        #calc-display {
            width: 100%;
            background-color: var(--input-bg);
            border: 1px solid var(--widget-border-color);
            border-radius: 8px;
            padding: 15px;
            font-size: 2.5em;
            text-align: right;
            color: var(--text-color);
            font-family: 'Poppins', monospace;
            overflow-x: auto;
            white-space: nowrap;
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
        }
        .calc-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        .calc-buttons button {
            padding: 15px;
            font-size: 1.5em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            background-color: var(--button-bg);
            color: var(--button-text);
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .calc-buttons button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .calc-buttons button:active {
            transform: translateY(0);
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .calc-buttons button.operator {
            background-color: var(--accent-color-translucent-light);
            color: var(--accent-color);
            font-weight: 600;
        }
        body.dark-mode .calc-buttons button.operator {
             background-color: var(--accent-color-translucent-dark);
        }
        .calc-buttons button.equals {
            background-color: var(--accent-color);
            color: white;
            font-weight: 700;
            grid-column: span 2;
        }
        .calc-buttons button.clear {
            background-color: var(--danger-color);
            color: white;
            font-weight: 600;
        }
        .calc-buttons button.backspace {
            background-color: var(--warning-color);
            color: white;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            body { padding-top: 80px; padding-left: 10px; padding-right: 10px; }
            .resources-content { margin-top: 20px; margin-bottom: 20px; padding: 20px 15px; grid-template-columns: 1fr; }
            .calculator-widget { max-width: 100%; }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <img id="avatarImage" src="https://cdn.vectorstock.com/i/1000v/66/13/default-avatar-profile-icon-social-media-user-vector-49816613.jpg" alt="User Avatar">
        </div>
        <nav>
            <a href="index.html">Home</a>
            <a href="about.html">About Us</a>
            <a href="resources.html">Resources</a>
        </nav>
    </header>

    <main class="resources-content glass">
        <h1>Resources</h1>

        <div class="resource-category glass">
            <h2>AI & Writing</h2>
            <a href="https://chatgpt.com/" target="_blank" class="resource-link">ChatGPT</a>
        </div>

        <div class="resource-category glass">
            <h2>Career & Networking</h2>
            <a href="https://app.joinhandshake.com/login" target="_blank" class="resource-link">Handshake</a>
            <a href="https://www.linkedin.com/" target="_blank" class="resource-link">LinkedIn</a>
        </div>

        <div class="resource-category glass">
            <h2>Math & Academic Support</h2>
            <a href="https://www.mathway.com/Algebra" target="_blank" class="resource-link">Mathway</a>
            <a href="https://openstax.org/" target="_blank" class="resource-link">OpenStax</a>
            <a href="https://quizlet.com/" target="_blank" class="resource-link">Quizlet</a>
        </div>

        <div class="resource-category glass">
            <h2>Mental Health</h2>
            <a href="https://www.7cups.com/" target="_blank" class="resource-link">7 Cups</a>
        </div>

        <div class="resource-category glass">
            <h2>Miscellaneous</h2>
            <a href="https://www.youtube.com/" target="_blank" class="resource-link">YouTube</a>
        </div>

        <section class="calculator-widget glass">
            <h2>Calculator</h2>
            <div id="calc-display">0</div>
            <div class="calc-buttons">
                <button class="clear">C</button>
                <button class="backspace">‚Üê</button>
                <button class="operator">/</button>
                <button class="operator">*</button>
                <button>7</button>
                <button>8</button>
                <button>9</button>
                <button class="operator">-</button>
                <button>4</button>
                <button>5</button>
                <button>6</button>
                <button class="operator">+</button>
                <button>1</button>
                <button>2</button>
                <button>3</button>
                <button class="equals">=</button>
                <button>0</button>
                <button>.</button>
            </div>
        </section>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
        apiKey: "AIzaSyA5uXk2bnfbZ0ZMQSsRzOXzU4jjZN0-sPM",
        authDomain: "studentwellnessplanner.firebaseapp.com",
        projectId: "studentwellnessplanner",
        storageBucket: "studentwellnessplanner.firebasestorage.app",
        messagingSenderId: "1084830559333",
        appId: "1:1084830559333:web:dc5d435854bad565476a8c"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                const userDocRef = doc(db, 'users', user.uid);
                const userDoc = await getDoc(userDocRef);
                if (userDoc.exists()) {
                    const userData = userDoc.data();
                    // Apply Theme
                    if (userData.theme === 'dark') {
                        document.body.classList.add('dark-mode');
                    } else {
                        document.body.classList.remove('dark-mode');
                    }
                    // Apply Avatar
                    const avatarImage = document.getElementById('avatarImage');
                    if (avatarImage && userData.avatar) {
                        avatarImage.src = userData.avatar;
                    }
                }
            }
        });

        // Calculator Logic
        const display = document.getElementById('calc-display');
        const buttons = document.querySelector('.calc-buttons');
        let currentInput = '0';
        let operator = null;
        let firstOperand = null;
        let waitingForSecondOperand = false;

        function updateDisplay() { display.textContent = currentInput; }
        function clearCalculator() {
            currentInput = '0';
            operator = null;
            firstOperand = null;
            waitingForSecondOperand = false;
            updateDisplay();
        }
        function inputDigit(digit) {
            if (waitingForSecondOperand) {
                currentInput = digit;
                waitingForSecondOperand = false;
            } else {
                currentInput = currentInput === '0' ? digit : currentInput + digit;
            }
            updateDisplay();
        }
        function inputDecimal(dot) {
            if (waitingForSecondOperand) return;
            if (!currentInput.includes(dot)) { currentInput += dot; }
            updateDisplay();
        }
        function handleOperator(nextOperator) {
            const inputValue = parseFloat(currentInput);
            if (operator && waitingForSecondOperand) {
                operator = nextOperator;
                return;
            }
            if (firstOperand === null) {
                firstOperand = inputValue;
            } else if (operator) {
                const result = operate(firstOperand, inputValue, operator);
                currentInput = String(result);
                firstOperand = result;
            }
            waitingForSecondOperand = true;
            operator = nextOperator;
            updateDisplay();
        }
        function operate(operand1, operand2, op) {
            switch (op) {
                case '+': return operand1 + operand2;
                case '-': return operand1 - operand2;
                case '*': return operand1 * operand2;
                case '/': return operand2 === 0 ? NaN : operand1 / operand2;
                default: return operand2;
            }
        }
        function backspace() {
            currentInput = currentInput.length > 1 ? currentInput.slice(0, -1) : '0';
            updateDisplay();
        }
        buttons.addEventListener('click', (event) => {
            const { target } = event;
            if (!target.matches('button')) return;
            if (target.classList.contains('operator')) { handleOperator(target.textContent); return; }
            if (target.classList.contains('equals')) {
                if (operator && firstOperand !== null) {
                    const inputValue = parseFloat(currentInput);
                    const result = operate(firstOperand, inputValue, operator);
                    if (isNaN(result)) {
                        currentInput = "Error";
                    } else {
                        currentInput = String(result);
                    }
                    firstOperand = null;
                    operator = null;
                    waitingForSecondOperand = false;
                    updateDisplay();
                }
                return;
            }
            if (target.classList.contains('clear')) { clearCalculator(); return; }
            if (target.classList.contains('backspace')) { backspace(); return; }
            if (target.textContent === '.') { inputDecimal(target.textContent); return; }
            inputDigit(target.textContent);
        });
        updateDisplay();
    </script>
</body>
</html>
